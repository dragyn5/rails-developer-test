
<h1>Listing articles</h1>

  <p class="notice"><%= @notice %></p>
  <p class="alert"><%= @alert %></p>

<table>
  <tr>
    <th>Title</th>
    <th>Category</th>
    <th>Content</th>
  </tr>
 
  <% @articles.each do |article| %>
    <tr>
      <td><%= article.title %></td>
      <% if article.category_id %>
        <td><%= Category.find(article.category_id).title %></td>
      <% else %>
        <td></td>
      <% end %>
      <td><%= link_to 'Show', article_path(article) %></td>
      <% if current_user %>
        <% if current_user.id == article.user_id || current_user.roles == "admin" %>
        <td><%= link_to 'Edit', edit_article_path(article) %></td>
        <td><%= link_to 'Destroy', article_path(article),
          method: :delete,
          data: { confirm: 'Are you sure?' } %></td>
          <% end %>
        <% end %>

    </tr>
  <% end %>
</table>